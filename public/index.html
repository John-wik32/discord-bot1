<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Media Bot</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- LOGIN SCREEN -->
    <div id="login-container" class="card-container">
        <div class="card login-card">
            <h1>ğŸ¤– Discord Media Bot</h1>
            <p style="color: #888;">Enter admin password to continue</p>
            <input type="password" id="adminPassword" placeholder="Enter password (default: 123test)" autofocus>
            <button onclick="login()">Connect to Bot</button>
            <p style="margin-top: 15px; font-size: 0.9em; color: #666;">
                Make sure the Discord bot is online and has access to your server.
            </p>
        </div>
    </div>

    <!-- DASHBOARD -->
    <div id="dashboard-container" class="hidden">
        <div class="dashboard-header">
            <h1>ğŸ¤– Discord Media Bot</h1>
            <button class="logout-btn" onclick="location.reload()">Logout</button>
        </div>

        <!-- TAB NAVIGATION -->
        <div class="tab-buttons">
            <button class="tab-btn active">ğŸ“¤ Send Now</button>
            <button class="tab-btn">â° Schedule</button>
            <button class="tab-btn">âœ… Scheduled</button>
            <button class="tab-btn">ğŸ“œ History</button>
            <button class="tab-btn">ğŸ§ª Test</button>
        </div>

        <!-- SEND TAB -->
        <div id="send-tab" class="tab-content">
            <div class="card">
                <h2>ğŸ“¤ Send Media Now</h2>
                
                <label>Select Channel</label>
                <select id="channelSelect">
                    <option value="">-- Loading channels... --</option>
                </select>
                
                <div id="manualChannelId" style="display: none; margin-top: 10px;">
                    <label>Enter Channel ID</label>
                    <input type="text" placeholder="Paste Discord channel ID here">
                </div>

                <label>Message (Optional)</label>
                <textarea id="message" rows="3" placeholder="Enter your message..."></textarea>

                <label>Video URL (Optional)</label>
                <input type="text" id="videoUrl" placeholder="https://youtube.com/watch?v=...">

                <label>Upload Media Files</label>
                <input type="file" id="mediaFiles" multiple accept="video/*,image/*,audio/*">
                <small class="hint">Max 10 files, 100MB each. Videos, images, audio supported.</small>
                
                <div id="preview-container" class="preview-area"></div>

                <button onclick="sendPost()" class="primary-btn">ğŸš€ Send Now</button>
            </div>
        </div>

        <!-- SCHEDULE TAB -->
        <div id="schedule-tab" class="tab-content hidden">
            <div class="card">
                <h2>â° Schedule Media Post</h2>
                
                <label>Select Channel</label>
                <select id="scheduleChannelSelect">
                    <option value="">-- Loading channels... --</option>
                </select>
                
                <div id="scheduleManualChannelId" style="display: none; margin-top: 10px;">
                    <label>Enter Channel ID</label>
                    <input type="text" placeholder="Paste Discord channel ID here">
                </div>

                <label>Message (Optional)</label>
                <textarea id="scheduleMessage" rows="3" placeholder="Enter your message..."></textarea>

                <label>Video URL (Optional)</label>
                <input type="text" id="scheduleVideoUrl" placeholder="https://youtube.com/watch?v=...">

                <label>Upload Media Files</label>
                <input type="file" id="scheduleMediaFiles" multiple accept="video/*,image/*,audio/*">
                <small class="hint">Max 10 files, 100MB each.</small>
                
                <div id="schedulePreview" class="preview-area"></div>

                <label>Schedule Time</label>
                <input type="datetime-local" id="scheduleTime">
                <small class="hint">Must be at least 1 minute in the future</small>

                <button onclick="schedulePost()" class="primary-btn">ğŸ“… Schedule Post</button>
            </div>
        </div>

        <!-- SCHEDULED POSTS TAB -->
        <div id="scheduled-tab" class="tab-content hidden">
            <div class="card">
                <h2>âœ… Scheduled Posts</h2>
                <p style="color: #888;">Upcoming posts (auto-send when time comes)</p>
                <div id="scheduled-posts">
                    <p style="color: #888; padding: 20px; text-align: center;">Loading scheduled posts...</p>
                </div>
            </div>
        </div>

        <!-- HISTORY TAB -->
        <div id="history-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ“œ Post History</h2>
                <p style="color: #888;">Recently sent posts (last 20)</p>
                <div id="history-container">
                    <p style="color: #888; padding: 20px; text-align: center;">Loading history...</p>
                </div>
            </div>
        </div>

        <!-- TEST TAB WITH FILE UPLOAD -->
        <div id="test-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ§ª Test Mode</h2>
                <p style="color: #888;">Test bot functionality with optional files</p>
                
                <label>Select Channel</label>
                <select id="testChannelSelect">
                    <option value="">-- Loading channels... --</option>
                </select>
                
                <div id="testManualChannelId" style="display: none; margin-top: 10px;">
                    <label>Enter Channel ID</label>
                    <input type="text" placeholder="Paste Discord channel ID here">
                </div>

                <label>Test Message (Optional)</label>
                <input type="text" id="testMessage" placeholder="Optional test message...">

                <label>Test with Media Files (Optional)</label>
                <input type="file" id="testMediaFiles" multiple accept="video/*,image/*,audio/*">
                <small class="hint">Optional: Upload files to test media sending</small>
                
                <div id="testPreview" class="preview-area"></div>

                <button onclick="testSend()" class="primary-btn">ğŸš€ Send Test</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
