<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Bot Manager Pro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- LOGIN SCREEN -->
    <div id="login-container" class="card-container">
        <div class="card login-card">
            <h1>ğŸ¤– Bot Command Center Pro</h1>
            <p style="color: #888;">Enter your admin password</p>
            <input type="password" id="adminPassword" placeholder="Admin Password">
            <button onclick="fetchChannels()">Connect to Bot</button>
        </div>
    </div>

    <!-- DASHBOARD -->
    <div id="dashboard-container" class="hidden">
        <div class="dashboard-header">
            <h1>ğŸ¤– Bot Command Center Pro</h1>
            <button class="logout-btn" onclick="location.reload()">Logout</button>
        </div>

        <!-- TAB NAVIGATION -->
        <div class="tab-buttons">
            <button class="tab-btn active" onclick="switchTab('send')">ğŸ“¤ Send</button>
            <button class="tab-btn" onclick="switchTab('schedule')">â° Schedule</button>
            <button class="tab-btn" onclick="switchTab('batch')">ğŸ“¦ Batch</button>
            <button class="tab-btn" onclick="switchTab('queue')">ğŸ“‹ Queue</button>
            <button class="tab-btn" onclick="switchTab('library')">ğŸ“š Library</button>
            <button class="tab-btn" onclick="switchTab('recurring')">ğŸ”„ Recurring</button>
            <button class="tab-btn" onclick="switchTab('templates')">ğŸ¨ Templates</button>
            <button class="tab-btn" onclick="switchTab('branding')">ğŸ­ Branding</button>
            <button class="tab-btn" onclick="switchTab('scheduled')">âœ… Scheduled</button>
            <button class="tab-btn" onclick="switchTab('analytics')">ğŸ“Š Analytics</button>
            <button class="tab-btn" onclick="switchTab('history')">ğŸ“œ History</button>
            <button class="tab-btn" onclick="switchTab('test')">ğŸ§ª Test</button>
        </div>

        <!-- SEND TAB -->
        <div id="send-tab" class="tab-content">
            <div class="card">
                <h2>ğŸ“¤ Send Post Now</h2>
                
                <label>Select Channel *</label>
                <select id="channelSelect" onchange="setGuildFromChannel('channelSelect')">
                    <option value="">-- Loading Channels --</option>
                </select>
                
                <label style="font-size: 0.85em; color: #888;">Or enter Channel ID (optional)</label>
                <input type="text" id="manualChannelId" placeholder="Paste channel ID here...">

                <label>Video URL (YouTube, Twitch, etc.)</label>
                <input type="text" id="videoUrl" placeholder="https://youtube.com/watch?v=...">

                <label>Message Content</label>
                <textarea id="postContent" rows="4" placeholder="Enter your message..."></textarea>

                <label>Add Media (Optional)</label>
                <input type="file" id="mediaFile" onchange="previewMedia()">
                <div id="preview-container"></div>

                <button onclick="sendPost()" class="primary-btn">ğŸš€ Send Now</button>
            </div>
        </div>

        <!-- SCHEDULE TAB -->
        <div id="schedule-tab" class="tab-content hidden">
            <div class="card">
                <h2>â° Schedule Post</h2>
                
                <label>Select Channel *</label>
                <select id="scheduleChannelSelect" onchange="setGuildFromChannel('scheduleChannelSelect')">
                    <option value="">-- Loading Channels --</option>
                </select>
                
                <label style="font-size: 0.85em; color: #888;">Or enter Channel ID (optional)</label>
                <input type="text" id="scheduleManualChannelId" placeholder="Paste channel ID here...">

                <label>Video URL (Optional)</label>
                <input type="text" id="scheduleVideoUrl" placeholder="https://youtube.com/watch?v=...">

                <label>Message Content</label>
                <textarea id="schedulePostContent" rows="4" placeholder="Enter your message..."></textarea>

                <label>Add Media (Optional)</label>
                <input type="file" id="scheduleMediaFile" onchange="schedulePreviewMedia()">
                <div id="schedulePreview"></div>

                <label>Schedule Time (Same day or later) *</label>
                <input type="datetime-local" id="scheduleTime">

                <button onclick="schedulePost()" class="primary-btn">ğŸ“… Schedule Post</button>
            </div>
        </div>

        <!-- BATCH UPLOAD TAB -->
        <div id="batch-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ“¦ Batch Upload & Auto-Schedule</h2>
                <p style="color: #888;">Upload multiple videos and auto-schedule them</p>
                
                <label>Select Channel *</label>
                <select id="batchChannelSelect" onchange="setGuildFromChannel('batchChannelSelect')">
                    <option value="">-- Loading Channels --</option>
                </select>
                
                <label style="font-size: 0.85em; color: #888;">Or enter Channel ID (optional)</label>
                <input type="text" id="batchManualChannelId" placeholder="Paste channel ID here...">

                <label>Select Multiple Videos *</label>
                <input type="file" id="batchFiles" multiple accept="video/*,image/*">
                <small style="color: #888;">Select 2+ files</small>

                <label>Post Interval (hours) *</label>
                <input type="number" id="batchInterval" min="1" value="2" placeholder="Hours between posts">

                <label>Start Time *</label>
                <input type="datetime-local" id="batchStartTime">

                <button onclick="batchUpload()" class="primary-btn">ğŸ“… Schedule All</button>
            </div>
        </div>

        <!-- QUEUE TAB -->
        <div id="queue-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ“‹ Video Queue</h2>
                <p style="color: #888;">Videos auto-post in sequence</p>
                
                <label>Select Channel *</label>
                <select id="queueChannelSelect" onchange="setGuildFromChannel('queueChannelSelect')">
                    <option value="">-- Loading Channels --</option>
                </select>
                
                <label style="font-size: 0.85em; color: #888;">Or enter Channel ID (optional)</label>
                <input type="text" id="queueManualChannelId" placeholder="Paste channel ID here...">

                <label>Video Title</label>
                <input type="text" id="queueTitle" placeholder="Video title...">

                <label>Custom Message</label>
                <textarea id="queueMessage" rows="3" placeholder="Optional message..."></textarea>

                <label>Video URL</label>
                <input type="text" id="queueVideoUrl" placeholder="https://youtube.com/...">

                <label>Or Upload Video</label>
                <input type="file" id="queueMediaFile">

                <button onclick="addToQueue()" class="primary-btn">â• Add to Queue</button>

                <h3 style="margin-top: 30px;">Queue Items</h3>
                <div id="queue-container">
                    <p style="color: #888;">Loading...</p>
                </div>
            </div>
        </div>

        <!-- LIBRARY TAB -->
        <div id="library-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ“š Video Library</h2>
                <p style="color: #888;">Save videos for quick reuse</p>

                <label>Video Title *</label>
                <input type="text" id="libTitle" placeholder="My awesome video">

                <label>Category</label>
                <input type="text" id="libCategory" placeholder="Memes, Tutorials, etc.">

                <label>Video URL</label>
                <input type="text" id="libVideoUrl" placeholder="https://youtube.com/...">

                <label>Or Upload Video *</label>
                <input type="file" id="libMediaFile">

                <button onclick="saveToLibrary()" class="primary-btn">ğŸ’¾ Save to Library</button>

                <h3 style="margin-top: 30px;">Your Library</h3>
                <div id="library-container" class="library-grid">
                    <p style="color: #888;">Loading...</p>
                </div>
            </div>
        </div>

        <!-- RECURRING TAB -->
        <div id="recurring-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ”„ Recurring Posts</h2>
                <p style="color: #888;">Auto-post on schedule (daily, weekly, monthly)</p>
                
                <label>Select Channel *</label>
                <select id="recurringChannelSelect" onchange="setGuildFromChannel('recurringChannelSelect')">
                    <option value="">-- Loading Channels --</option>
                </select>
                
                <label style="font-size: 0.85em; color: #888;">Or enter Channel ID (optional)</label>
                <input type="text" id="recurringManualChannelId" placeholder="Paste channel ID here...">

                <label>Message *</label>
                <textarea id="recurringContent" rows="3" placeholder="Message to post..."></textarea>

                <label>Frequency *</label>
                <select id="recurringFrequency">
                    <option value="">-- Select --</option>
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="monthly">Monthly</option>
                </select>

                <label>Video URL</label>
                <input type="text" id="recurringVideoUrl" placeholder="https://youtube.com/...">

                <label>Or Upload Video</label>
                <input type="file" id="recurringMediaFile">

                <button onclick="addRecurringPost()" class="primary-btn">âœ… Create Recurring</button>

                <h3 style="margin-top: 30px;">Active Recurring Posts</h3>
                <div id="recurring-container">
                    <p style="color: #888;">Loading...</p>
                </div>
            </div>
        </div>

        <!-- TEMPLATES TAB -->
        <div id="templates-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ¨ Message Templates</h2>
                <p style="color: #888;">Create reusable message templates</p>

                <label>Template Name *</label>
                <input type="text" id="tempName" placeholder="e.g., Daily Meme">

                <label>Message Before Video</label>
                <textarea id="tempBefore" rows="3" placeholder="ğŸ¤£ Meme of the day:"></textarea>

                <label>Message After Video</label>
                <textarea id="tempAfter" rows="3" placeholder="Drop your thoughts!"></textarea>

                <button onclick="saveTemplate()" class="primary-btn">ğŸ’¾ Save Template</button>

                <h3 style="margin-top: 30px;">Your Templates</h3>
                <div id="templates-container">
                    <p style="color: #888;">Loading...</p>
                </div>
            </div>
        </div>

        <!-- BRANDING TAB -->
        <div id="branding-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ­ Watermark & Branding</h2>
                <p style="color: #888;">Add logos/watermarks to videos (coming soon)</p>

                <label>Logo/Watermark Image</label>
                <input type="file" id="brandingImage" accept="image/*">

                <label>Position</label>
                <select id="brandingPosition">
                    <option value="top-left">Top Left</option>
                    <option value="top-right">Top Right</option>
                    <option value="bottom-left">Bottom Left</option>
                    <option value="bottom-right" selected>Bottom Right</option>
                    <option value="center">Center</option>
                </select>

                <label>Opacity (%)</label>
                <input type="number" id="brandingOpacity" min="0" max="100" value="100">

                <label>Text Watermark</label>
                <input type="text" id="brandingText" placeholder="Â© Your Brand">

                <button onclick="setBranding()" class="primary-btn">ğŸ’¾ Save Branding</button>
            </div>
        </div>

        <!-- SCHEDULED POSTS TAB -->
        <div id="scheduled-tab" class="tab-content hidden">
            <div class="card">
                <h2>âœ… Scheduled Posts</h2>
                <p style="color: #888;">View and manage upcoming posts</p>
                <div id="scheduled-posts">
                    <p style="color: #888;">Loading...</p>
                </div>
            </div>
        </div>

        <!-- ANALYTICS TAB -->
        <div id="analytics-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ“Š Analytics Dashboard</h2>
                <p style="color: #888;">Track your posting activity</p>
                <div id="analytics-container">
                    <p style="color: #888;">Loading...</p>
                </div>
                <button onclick="exportAllData()" class="primary-btn" style="margin-top: 20px;">ğŸ’¾ Export Backup</button>
            </div>
        </div>

        <!-- HISTORY TAB -->
        <div id="history-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ“œ Post History</h2>
                <p style="color: #888;">Recent posts (last 50)</p>
                <div id="history-container">
                    <p style="color: #888;">Loading...</p>
                </div>
            </div>
        </div>

        <!-- TEST MODE TAB -->
        <div id="test-tab" class="tab-content hidden">
            <div class="card">
                <h2>ğŸ§ª Test Mode</h2>
                <p style="color: #888;">Quick test: Channel â†’ Title â†’ Send (no schedule)</p>
                
                <label>Select Channel *</label>
                <select id="testChannelSelect" onchange="setGuildFromChannel('testChannelSelect')">
                    <option value="">-- Loading Channels --</option>
                </select>
                
                <label style="font-size: 0.85em; color: #888;">Or enter Channel ID (optional)</label>
                <input type="text" id="testManualChannelId" placeholder="Paste channel ID here...">

                <label>Message</label>
                <input type="text" id="testVideoTitle" placeholder="Test message...">

                <label>Media File</label>
                <input type="file" id="testMediaFile" onchange="testPreviewMedia()">
                <div id="testPreview"></div>

                <button onclick="testSend()" class="primary-btn">ğŸš€ Send Test</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
